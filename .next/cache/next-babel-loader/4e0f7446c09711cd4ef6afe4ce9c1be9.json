{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport { ThemeProvider, createGlobalStyle } from 'styled-components';\nimport { Provider } from 'react-redux';\nimport withRedux from 'next-redux-wrapper';\nimport withReduxSaga from 'next-redux-saga';\nimport Layout from '../components/CommonUI/Layout';\nimport configureStore from '../store/configureStore';\nimport { getIsLogged } from '../store/modules/loginUI';\n\n// composeWithDevTools()\n// const configureStore = () => {\n//   const sagaMiddleware = createSagaMiddleware();\n//   const middleware = [composeWithDevTools(), sagaMiddleware]\n//   const store = createStore(rootReducer,  applyMiddleware(sagaMiddleware) );\n//   // if (req || !isServer) {\n//     sagaMiddleware.run(rootSaga)\n//   // }\n//   return store;\n// };\nconst MyApp2 = props => {\n  const {\n    Component,\n    pageProps,\n    store\n  } = props;\n  return __jsx(ThemeProvider, {\n    theme: {\n      fontFamily: 'Noto Sans KR'\n    }\n  }, __jsx(Provider, {\n    store: store\n  }, __jsx(Layout, null, __jsx(Component, pageProps))), __jsx(React.Fragment, null, __jsx(GlobalStyle, null)));\n};\n\nMyApp2.getInitialProps = async ({\n  Component,\n  ctx\n}) => {\n  let pageProps = {}; // 서버사이드에서 리덕스 연결 성공. 원인 공부\n\n  if (ctx.isServer) {\n    pageProps = await Component.getInitialProps(ctx); //check login\n\n    if (!ctx.req.headers.cookie) {\n      console.log('none cookie');\n      ctx.store.dispatch(getIsLogged(false));\n    } else {\n      ctx.store.dispatch(getIsLogged(true));\n    }\n  }\n\n  return {\n    pageProps\n  };\n};\n\nexport default withRedux(configureStore)(withReduxSaga(MyApp2));\nconst GlobalStyle = createGlobalStyle`\n  html {\n    font-size:62.5%;\n    background-color: #fff;\n  }\n  body {\n    margin: 0;\n    padding: 0;\n    font-size: 18px;\n    font-weight: normal;\n    line-height: 1.8;\n    color: #343a40;\n    font-family: 'Noto Sans KR';\n    box-sizing: border-box;\n  }\n  * {\n    margin: 0;\n    padding: 0;\n    outline: 0;\n    border: 0;\n    vertical-align: top;\n  }\n  article, footer, header, aside, details, header, nav, section {\n    display: block;\n  }\n\n  img {\n    max-width: 100%;\n  }\n  a {\n    text-decoration: none;\n    color: #343a40;\n  }\n  h1 {\n    font-weight: 700;\n  }\n  button {\n    cursor: pointer;\n  }\n  p {\n    margin: 0;\n  }`;","map":null,"metadata":{},"sourceType":"module"}