{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport firebase from '../../config/init-firebase';\nexport var formatDate = function formatDate(dateData) {\n  var formatted = new Date(dateData);\n  var year = formatted.getFullYear();\n  var month = formatted.getMonth() + 1;\n  var day = formatted.getDate();\n  month = Number(month) < 10 ? \"0\".concat(month) : month;\n  day = Number(day) < 10 ? \"0\".concat(day) : day;\n  return \"\".concat(year, \"\\uB144 \").concat(month, \"\\uC6D4 \").concat(day, \"\\uC77C\");\n};\nexport var setItem = function setItem(key, obj) {\n  return sessionStorage.setItem(key, _JSON$stringify(obj));\n};\nexport var getItem = function getItem(key) {\n  return sessionStorage.getItem(JSON.parse(key));\n};\nexport var removeExp = function removeExp(str) {\n  var regExp = /[\\{\\}\\[\\]\\/?.,;:|\\)*~`!^\\-_+<>@\\#$%&\\\\\\=\\(\\'\\\"]/gi;\n\n  if (regExp.test(str)) {\n    var result = str.replace(regExp, '');\n    return result;\n  }\n\n  return str;\n};\nexport var logoutFn = function logoutFn() {\n  firebase.auth().signOut().then(function () {\n    // Sign-out successful.\n    sessionStorage.removeItem(\"idToken\");\n  })[\"catch\"](function (error) {// An error happened.\n  });\n};\nexport var setCookie = function setCookie(name, value, day) {\n  var date = new Date();\n  date.setTime(date.getTime() + day * 60 * 60 * 24 * 1000);\n  document.cookie = name + '=' + value + ';expires=' + date.toUTCString() + ';path=/';\n  console.log(document.cookie);\n};\nexport var deleteCookie = function deleteCookie(name) {\n  var date = new Date();\n  document.cookie = name + \"= \" + \"; expires=\" + date.toUTCString() + \"; path=/\";\n  console.log(\"delete\");\n};\nexport var checkUser =\n/*#__PURE__*/\nfunction () {\n  var _ref = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee() {\n    var user;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return firebase.auth().currentUser;\n\n          case 2:\n            user = _context.sent;\n            return _context.abrupt(\"return\", user);\n\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function checkUser() {\n    return _ref.apply(this, arguments);\n  };\n}();\nexport var loginEmail = function loginEmail(email, password) {\n  var result = firebase.auth().signInWithEmailAndPassword(email, password).then(function (res) {\n    var token = _JSON$stringify(res.user);\n\n    setCookie(\"token\", token, 1);\n    sessionStorage.setItem(\"idToken\", token);\n    return res;\n  })[\"catch\"](function (err) {\n    return console.log(err);\n  });\n  return result;\n};\nexport var checkLogin = function checkLogin() {\n  var tokenObj = document.cookie;\n  var isToken = JSON.parse(tokenObj);\n  return isToken;\n};","map":null,"metadata":{},"sourceType":"module"}