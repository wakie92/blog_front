{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { loginEmail } from \"../../../lib/Utils/utils\";\nimport { getIsLogged } from '../../../store/modules/loginUI';\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { useState } from \"react\";\nimport { useRouter } from \"next/router\";\n\nvar login = function login(_ref) {\n  var isServer = _ref.isServer;\n  var dispatch = useDispatch();\n\n  var _useSelector = useSelector(function (state) {\n    return {\n      isLogged: state.loginUI.isLogged\n    };\n  }),\n      isLogged = _useSelector.isLogged;\n\n  var router = useRouter();\n\n  var _useState = useState(''),\n      email = _useState[0],\n      setEmail = _useState[1];\n\n  var _useState2 = useState(''),\n      password = _useState2[0],\n      setPassword = _useState2[1];\n\n  var onChangeEmail = function onChangeEmail(e) {\n    var _e$target = e.target,\n        value = _e$target.value,\n        name = _e$target.name;\n    setEmail(value);\n  };\n\n  var onChangePassword = function onChangePassword(e) {\n    var _e$target2 = e.target,\n        value = _e$target2.value,\n        name = _e$target2.name;\n    setPassword(value);\n  };\n\n  var onSumit =\n  /*#__PURE__*/\n  function () {\n    var _ref2 = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee(e) {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              e.preventDefault();\n              _context.next = 3;\n              return loginEmail(email, password);\n\n            case 3:\n              res = _context.sent;\n\n              if (res) {\n                dispatch(getIsLogged(true));\n                router.push('/', '/');\n              }\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function onSumit(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  return __jsx(React.Fragment, null, __jsx(\"form\", null, __jsx(\"input\", {\n    onChange: onChangeEmail,\n    value: email\n  }), __jsx(\"input\", {\n    type: \"password\",\n    onChange: onChangePassword,\n    value: password\n  })), __jsx(\"button\", {\n    onClick: onSumit\n  }, isLogged ? '로그아웃' : '로그인'));\n};\n\nlogin.getInitialProps =\n/*#__PURE__*/\nfunction () {\n  var _ref3 = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee2(ctx) {\n    var isServer;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            isServer = ctx.req ? 'server' : 'client';\n            return _context2.abrupt(\"return\", {\n              isServer: isServer\n            });\n\n          case 2:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  return function (_x2) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\nexport default login;","map":null,"metadata":{},"sourceType":"module"}