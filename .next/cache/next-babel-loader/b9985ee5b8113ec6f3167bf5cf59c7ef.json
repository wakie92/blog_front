{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { useCallback, useEffect } from \"react\";\nimport 'firebase/auth';\nimport { getPostsListAsync, postAsync } from \"../../store/modules/post\";\nimport { PostsLayout } from \"../../components/Posts\";\nconst limitCnt = 30;\n\nconst PostListContainer = () => {\n  const {\n    postsList,\n    isLogged,\n    reqPost\n  } = useSelector(({\n    post,\n    loginUI\n  }) => ({\n    postsList: post.postsList,\n    reqPost: post.reqPost,\n    isLogged: loginUI.isLogged\n  }));\n  const dispatch = useDispatch();\n  const reqGetPostsList = useCallback(() => {\n    try {\n      dispatch(getPostsListAsync.request(limitCnt));\n    } catch (e) {\n      throw e;\n    }\n  }, [dispatch]);\n  useEffect(() => {\n    if (!postsList.data) {\n      reqGetPostsList();\n    }\n  }, []);\n  useEffect(() => {\n    if (reqPost.data) {\n      dispatch(postAsync.success(null));\n      reqGetPostsList();\n    }\n  }, [reqPost.data, dispatch]);\n  return __jsx(PostsLayout, {\n    postsList: postsList\n  });\n};\n\nexport default PostListContainer;","map":{"version":3,"sources":["C:/Users/lchon/Project/blog_front/containers/Post/PostListContainer.tsx"],"names":["useSelector","useDispatch","useCallback","useEffect","getPostsListAsync","postAsync","PostsLayout","limitCnt","PostListContainer","postsList","isLogged","reqPost","post","loginUI","dispatch","reqGetPostsList","request","e","data","success"],"mappings":";;AAAA,SAASA,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,WAAT,EAAsBC,SAAtB,QAAuC,OAAvC;AACA,OAAO,eAAP;AACA,SAASC,iBAAT,EAA4BC,SAA5B,QAA6C,0BAA7C;AAEA,SAASC,WAAT,QAA4B,wBAA5B;AAEA,MAAMC,QAAQ,GAAG,EAAjB;;AACA,MAAMC,iBAAiB,GAAG,MAAM;AAE9B,QAAM;AAAEC,IAAAA,SAAF;AAAaC,IAAAA,QAAb;AAAuBC,IAAAA;AAAvB,MAAmCX,WAAW,CAAC,CAAC;AAAEY,IAAAA,IAAF;AAAQC,IAAAA;AAAR,GAAD,MAAmC;AACxFJ,IAAAA,SAAS,EAAEG,IAAI,CAACH,SADwE;AAExFE,IAAAA,OAAO,EAAEC,IAAI,CAACD,OAF0E;AAGxFD,IAAAA,QAAQ,EAAEG,OAAO,CAACH;AAHsE,GAAnC,CAAD,CAApD;AAKD,QAAMI,QAAQ,GAAGb,WAAW,EAA5B;AAEC,QAAMc,eAAe,GAAGb,WAAW,CAAC,MAAM;AAC1C,QAAI;AACHY,MAAAA,QAAQ,CAACV,iBAAiB,CAACY,OAAlB,CAA0BT,QAA1B,CAAD,CAAR;AACA,KAFD,CAEE,OAAOU,CAAP,EAAU;AACX,YAAMA,CAAN;AACA;AACD,GANmC,EAMlC,CAAEH,QAAF,CANkC,CAAnC;AAQAX,EAAAA,SAAS,CAAC,MAAM;AAChB,QAAI,CAACM,SAAS,CAACS,IAAf,EAAqB;AACpBH,MAAAA,eAAe;AACd;AACF,GAJS,EAIP,EAJO,CAAT;AAKDZ,EAAAA,SAAS,CAAC,MAAM;AACf,QAAGQ,OAAO,CAACO,IAAX,EAAiB;AAChBJ,MAAAA,QAAQ,CAACT,SAAS,CAACc,OAAV,CAAkB,IAAlB,CAAD,CAAR;AACAJ,MAAAA,eAAe;AACf;AACD,GALQ,EAKN,CAACJ,OAAO,CAACO,IAAT,EAAeJ,QAAf,CALM,CAAT;AAMC,SACE,MAAC,WAAD;AAAa,IAAA,SAAS,EAAEL;AAAxB,IADF;AAGD,CA/BD;;AAiCA,eAAeD,iBAAf","sourcesContent":["import { useSelector, useDispatch } from \"react-redux\";\r\nimport { useCallback, useEffect } from \"react\";\r\nimport 'firebase/auth';\r\nimport { getPostsListAsync, postAsync } from \"../../store/modules/post\";\r\nimport { RootState } from \"../../store/modules\";\r\nimport { PostsLayout } from \"../../components/Posts\";\r\n\r\nconst limitCnt = 30;\r\nconst PostListContainer = () => {\r\n\r\n  const { postsList, isLogged, reqPost } = useSelector(({ post, loginUI }: RootState) => ({\r\n\t\tpostsList: post.postsList,\r\n\t\treqPost: post.reqPost,\r\n\t\tisLogged: loginUI.isLogged,\r\n\t}));\r\n\tconst dispatch = useDispatch();\r\n\r\n  const reqGetPostsList = useCallback(() => {\r\n\t\ttry {\r\n\t\t\tdispatch(getPostsListAsync.request(limitCnt));\r\n\t\t} catch (e) {\r\n\t\t\tthrow e;\r\n\t\t}\r\n\t},[ dispatch ]);\r\n\r\n  useEffect(() => {\r\n\t\tif (!postsList.data) {\r\n\t\t\treqGetPostsList();\r\n\t\t\t}\r\n\t}, []);\r\n\tuseEffect(() => {\r\n\t\tif(reqPost.data) {\r\n\t\t\tdispatch(postAsync.success(null));\r\n\t\t\treqGetPostsList();\r\n\t\t}\r\n\t}, [reqPost.data, dispatch] )\r\n  return (\r\n    <PostsLayout postsList={postsList} />\r\n  );\r\n}\r\n\r\nexport default PostListContainer;"]},"metadata":{},"sourceType":"module"}