{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport { loginEmail } from \"../../../lib/Utils/utils\";\nimport { getIsLogged } from '../../../store/modules/loginUI';\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { useState } from \"react\";\nimport { useRouter } from \"next/router\";\n\nconst login = ({\n  isServer\n}) => {\n  const dispatch = useDispatch();\n  const {\n    isLogged\n  } = useSelector(state => ({\n    isLogged: state.loginUI.isLogged\n  }));\n  const router = useRouter();\n  const {\n    0: email,\n    1: setEmail\n  } = useState('');\n  const {\n    0: password,\n    1: setPassword\n  } = useState('');\n\n  const onChangeEmail = e => {\n    const {\n      value,\n      name\n    } = e.target;\n    setEmail(value);\n  };\n\n  const onChangePassword = e => {\n    const {\n      value,\n      name\n    } = e.target;\n    setPassword(value);\n  };\n\n  const onSumit = async e => {\n    e.preventDefault();\n    const res = await loginEmail(email, password);\n\n    if (res) {\n      dispatch(getIsLogged(true));\n      router.push('/', '/');\n    }\n  };\n\n  return __jsx(React.Fragment, null, __jsx(\"form\", null, __jsx(\"input\", {\n    onChange: onChangeEmail,\n    value: email\n  }), __jsx(\"input\", {\n    type: \"password\",\n    onChange: onChangePassword,\n    value: password\n  })), __jsx(\"button\", {\n    onClick: onSumit\n  }, isLogged ? '로그아웃' : '로그인'));\n};\n\nlogin.getInitialProps = async ctx => {\n  const isServer = ctx.req ? 'server' : 'client';\n  return {\n    isServer\n  };\n};\n\nexport default login;","map":null,"metadata":{},"sourceType":"module"}